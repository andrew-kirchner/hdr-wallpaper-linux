# https://mpv.io/manual/master/
no-border
fullscreen
idle=yes
force-window=yes
stop-screensaver=no
input-cursor-passthrough=yes
drag-and-drop=no
osc=no
audio=no
image-display-duration=300

#|target-peak may or may not be set correctly automatically
#|you can see this under HDR10: Display: 0/x cd/m^2 in Stats for Nerds
#|if you set target-peak manually you may want
# tone-mapping=st-2094-40
#| on real hdr content to prevent brightness flickering
#|Manually find your correct target-peak, or peak brightness,
#|With Plasma 6.4 HDR Brightness Calibration!
target-peak=480
#|for inverse tone mapping, bt.2446a
#|is better for a high target-peak!
#|bt.2446a is generally less bright and more natural,
#|otherwise use spline for a customizable, strong effect
#|on lower target peaks below say 600
vo=gpu-next
gpu-api=vulkan
gpu-context=waylandvk
hwdec=auto
target-colorspace-hint=yes
hdr-compute-peak=yes
target-contrast=inf
# tone-mapping-visualize
[sdr-no-target-peak-video]
profile-cond=p["video-params/sig-peak"] <= 1 and p["duration"] > 1 and p["user-data/novideo"]
profile-restore=copy
target-peak=auto
[sdr-no-target-peak-image]
profile-cond=p["video-params/sig-peak"] <= 1 and p["duration"] < 1 and p["user-data/noimage"]
profile-restore=copy
target-peak=auto
[inverse-tone-mapping-video]
# can cause lag
profile-cond=p["video-params/sig-peak"] <= 1 and p["duration"] > 1 and not p["user-data/novideo"]
profile-restore=copy
target-prim=bt.2020
target-trc=pq
inverse-tone-mapping=yes
tone-mapping=spline
[inverse-tone-mapping-image]
profile-cond=p["video-params/sig-peak"] <= 1 and p["duration"] < 1 and not p["user-data/noimage"]
profile-restore=copy
target-prim=bt.2020
target-trc=pq
scale=ewa_lanczos4sharpest
inverse-tone-mapping=yes
tone-mapping=spline
#|very important for png files!
#|their gamma is interpreted wrong with srgb
#|convert=yes means the original image or jpgs shouldnt be changed
vf=format:primaries=bt.709:gamma=bt.1886:colorlevels=full:convert=yes
#====================================================================
#|Try these shortcuts for testing in your input.conf!
#|you can try strings like "auto" or really any property
#====================================================================
#a cycle-values vf "" "format:primaries=bt.709:gamma=bt.1886:colorlevels=full:convert=yes"
#c cycle-values target-peak 203 480
#n cycle-values tone-mapping "bt.2446a" "spline"
